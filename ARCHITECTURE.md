# ğŸ—ï¸ Craftify Architecture & Data Flow

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CRAFTIFY APPLICATION                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      PRESENTATION LAYER                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ WelcomeScreen  â”‚  â”‚  ItemInput   â”‚  â”‚ VideoResultsScreen   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                â”‚  â”‚              â”‚  â”‚                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Branding     â”‚  â”‚ â€¢ Form       â”‚  â”‚ â€¢ Grid Display       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Call-to-     â”‚  â”‚ â€¢ Input      â”‚  â”‚ â€¢ Loading State      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   action       â”‚  â”‚   parsing    â”‚  â”‚ â€¢ Error Handling     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Animations   â”‚  â”‚ â€¢ Validation â”‚  â”‚ â€¢ Result count       â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚           VideoCard Component (Repeated)                â”‚   â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Thumbnail + Play overlay                              â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Title + Description                                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Match % bar                                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Matched items (green)                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Suggested items (gray)                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Difficulty badge                                      â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Duration + Link button                                â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      LOGIC LAYER                                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚              Index.tsx (Orchestrator)                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Screen state management                               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Navigation between screens                            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Analytics tracking                                    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ useVideoSearch hook integration                        â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                             â†“                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚          useVideoSearch Hook (State Manager)             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ video[]                                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ results[] (VideoScoreResult)                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ isLoading                                              â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ error                                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ hasSearched                                            â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                             â†“                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚        Input Validation (matchingLogic.ts)               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ parseUserItems()                                       â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ isValidUserInput()                                     â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      SERVICE LAYER                               â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚        Video Service (videoService.ts)                  â”‚    â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  buildSearchQueries(items)                              â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â†“                                                      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Generate 7+ search queries                             â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  (Combined, individual, household focus)                â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  searchDIYVideos(items, limit)                          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â†“                                                      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  For each query:                                        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    â€¢ Call Invidious API (Primary)                       â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    â€¢ 200ms delay (rate limiting)                        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    â€¢ Collect results                                    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  If not enough results:                                 â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    â€¢ Try fallback method                                â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    â€¢ Continue fetching                                  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  searchDIYVideosWithCache(items)                        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â†“                                                      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Check cache (5 min duration)                           â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Return if cached, else call searchDIYVideos()          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚       Video Scoring Service (videoScoring.ts)           â”‚    â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  scoreVideo(video, userItems)                           â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â†“                                                      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  For each video:                                        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    1. Extract keywords from title + description         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    2. For each user item:                               â”‚    â”‚   â”‚
â”‚  â”‚  â”‚       â€¢ Get material variants + aliases                 â”‚    â”‚   â”‚
â”‚  â”‚  â”‚       â€¢ Check similarity to keywords                    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚       â€¢ Calculate matching score                        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    3. Calculate match percentage                        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    4. Add DIY relevance bonus                           â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    5. Determine match type (exact/partial/suggested)    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    6. Return VideoScoreResult                           â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  scoreAndRankVideos(videos, userItems)                  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â†“                                                      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Map scoreVideo() over all videos                       â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Filter: >30% match OR high relevance                   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Sort by:                                               â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    1. Match type (exact > partial > suggested)          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    2. Match percentage (higher first)                   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    3. Relevance score (higher first)                    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚    4. Fewer missing items                               â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Return sorted results                                  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  estimateDifficulty(video)                              â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â†“ Returns: Beginner/Intermediate/Advanced              â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  getMaterialVariants(material)                          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â†“ Get all aliases & variations for a material          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      DATA LAYER                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚           Session Cache (Memory)                       â”‚     â”‚   â”‚
â”‚  â”‚  â”‚  Map<query, { videos[], timestamp }>                   â”‚     â”‚   â”‚
â”‚  â”‚  â”‚  Duration: 5 minutes                                   â”‚     â”‚   â”‚
â”‚  â”‚  â”‚  Size: ~1-2MB per 15 videos                            â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚      Material Aliases (Static Object)                  â”‚     â”‚   â”‚
â”‚  â”‚  â”‚  {                                                     â”‚     â”‚   â”‚
â”‚  â”‚  â”‚    glue: [adhesive, paste, cement, ...],              â”‚     â”‚   â”‚
â”‚  â”‚  â”‚    rope: [twine, cord, yarn, ...],                    â”‚     â”‚   â”‚
â”‚  â”‚  â”‚    ... 14+ more materials                             â”‚     â”‚   â”‚
â”‚  â”‚  â”‚  }                                                     â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                        â”‚                                                  â”‚
                        â†“                                                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  EXTERNAL SERVICES       â”‚              â”‚  LOCAL STORAGE (Optional)â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                          â”‚              â”‚                          â”‚
         â”‚  Invidious API           â”‚              â”‚  Analytics              â”‚
         â”‚  (YouTube wrapper)       â”‚              â”‚  â€¢ totalSearches         â”‚
         â”‚  â€¢ Search API            â”‚              â”‚  â€¢ totalItems            â”‚
         â”‚  â€¢ Video metadata        â”‚              â”‚  â€¢ lastSearch            â”‚
         â”‚                          â”‚              â”‚                          â”‚
         â”‚  CORS Proxy (Fallback)   â”‚              â”‚  (Non-invasive tracking) â”‚
         â”‚  â€¢ Direct YouTube search â”‚              â”‚                          â”‚
         â”‚  â€¢ Rate-limited          â”‚              â”‚  Cleared on:             â”‚
         â”‚                          â”‚              â”‚  â€¢ Browser restart       â”‚
         â”‚                          â”‚              â”‚  â€¢ Manual clear cache    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER INTERACTION                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    User enters items
                    "cardboard, glue"
                           â”‚
                           â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ItemInput Component                 â”‚
        â”‚  Collects user input                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“ (on submit)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Index.tsx                           â”‚
        â”‚  handleSubmit(userItems)             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“ (validation)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  isValidUserInput(items)             â”‚
        â”‚  âœ“ At least 1 item                   â”‚
        â”‚  âœ“ Max 20 items                      â”‚
        â”‚  âœ“ No pure numbers                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“ (valid? â†’ proceed)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  useVideoSearch Hook Activated       â”‚
        â”‚  search(items)                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Step 1: Parse Input         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ parseUserItems(string)      â”‚
    â”‚ â†’ ["cardboard", "glue"]     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Step 2: Build Search Queriesâ”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ buildSearchQueries(items)   â”‚
    â”‚ â†’ [                         â”‚
    â”‚   "DIY craft using ...",    â”‚
    â”‚   "DIY cardboard craft",    â”‚
    â”‚   "DIY glue craft",         â”‚
    â”‚   ... 4 more                â”‚
    â”‚ ]                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Step 3: Fetch Videos from Internet          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ searchDIYVideos(queries)                    â”‚
    â”‚                                             â”‚
    â”‚ For each query:                             â”‚
    â”‚   â†’ Call Invidious API (Primary)            â”‚
    â”‚   â†’ Parse JSON response                     â”‚
    â”‚   â†’ Wait 200ms (rate limit)                 â”‚
    â”‚   â†’ Collect: id, title, desc, thumbnail    â”‚
    â”‚                                             â”‚
    â”‚ If insufficient results:                    â”‚
    â”‚   â†’ Try fallback API method                 â”‚
    â”‚                                             â”‚
    â”‚ Return: Video[] (up to 15)                  â”‚
    â”‚ {                                           â”‚
    â”‚   id: "abc123",                             â”‚
    â”‚   title: "DIY Cardboard Gift Box",          â”‚
    â”‚   description: "Learn to...",               â”‚
    â”‚   thumbnail: "https://...",                 â”‚
    â”‚   url: "https://youtube.com/...",           â”‚
    â”‚   source: "youtube",                        â”‚
    â”‚   duration: "12m 30s"                       â”‚
    â”‚ }                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Step 4: Score Videos (Core Algorithm)       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ scoreAndRankVideos(videos, items)           â”‚
    â”‚                                             â”‚
    â”‚ For each video:                             â”‚
    â”‚   1. Extract keywords:                      â”‚
    â”‚      title: ["diy", "cardboard", "gift"]    â”‚
    â”‚      desc: ["learn", "make", "box", ...]    â”‚
    â”‚                                             â”‚
    â”‚   2. For each user item:                    â”‚
    â”‚      item: "glue"                           â”‚
    â”‚      variants: ["glue", "adhesive",         â”‚
    â”‚                 "paste", "cement", ...]     â”‚
    â”‚      Check similarity to keywords:          â”‚
    â”‚      â†’ "glue" vs ["diy", "cardboard", ...]  â”‚
    â”‚      â†’ "adhesive" vs keywords               â”‚
    â”‚      â†’ Similarity score: 0.0-1.0            â”‚
    â”‚                                             â”‚
    â”‚   3. Calculate metrics:                     â”‚
    â”‚      matchedItems: ["cardboard"]            â”‚
    â”‚      suggestedItems: ["glue", "string"]     â”‚
    â”‚      matchScore: 1/2 = 0.5                  â”‚
    â”‚      matchPercentage: 50%                   â”‚
    â”‚      matchType: "partial"                   â”‚
    â”‚      relevanceScore: 0.7 (has "DIY")        â”‚
    â”‚                                             â”‚
    â”‚ Filter: matchPercentage > 30%               â”‚
    â”‚ Sort by: matchType, percentage, relevance   â”‚
    â”‚ Return: VideoScoreResult[]                  â”‚
    â”‚ [                                           â”‚
    â”‚   {                                         â”‚
    â”‚     video: {...},                           â”‚
    â”‚     matchedItems: ["cardboard"],            â”‚
    â”‚     suggestedItems: ["glue"],               â”‚
    â”‚     matchPercentage: 50,                    â”‚
    â”‚     matchType: "partial",                   â”‚
    â”‚     ...                                     â”‚
    â”‚   },                                        â”‚
    â”‚   ... (up to 15 results)                    â”‚
    â”‚ ]                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Step 5: Display Results                     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ VideoResultsScreen Component                â”‚
    â”‚ Renders: VideoCard x 15                     â”‚
    â”‚ For each result:                            â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚   â”‚ [Thumbnail + Play overlay]          â”‚   â”‚
    â”‚   â”‚ DIY Cardboard Gift Box              â”‚   â”‚
    â”‚   â”‚ â— Partial Match | 50%              â”‚   â”‚
    â”‚   â”‚ âœ“ You have: cardboard              â”‚   â”‚
    â”‚   â”‚ + You could get: glue, string      â”‚   â”‚
    â”‚   â”‚ [Watch Video â†’]                     â”‚   â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚ All sorted by match quality                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“ (user interaction)
            User clicks "Watch"
                   â”‚
                   â†“
         Opens YouTube video
           (external link)
```

---

## State Management Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Index.tsx (Parent)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  State:                                                      â”‚
â”‚  â€¢ screen: 'welcome' | 'input' | 'results'                  â”‚
â”‚  â€¢ items: string[]                                           â”‚
â”‚  â€¢ isTransitioning: boolean                                  â”‚
â”‚                                                              â”‚
â”‚  From useVideoSearch Hook:                                   â”‚
â”‚  â€¢ videos: Video[]                                           â”‚
â”‚  â€¢ results: VideoScoreResult[]                               â”‚
â”‚  â€¢ isLoading: boolean                                        â”‚
â”‚  â€¢ error: string | null                                      â”‚
â”‚  â€¢ hasSearched: boolean                                      â”‚
â”‚                                                              â”‚
â”‚  Transitions:                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Welcome â”‚     â”‚ Input  â”‚     â”‚ Results  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                              â”‚
â”‚  On navigate to 'results':                                   â”‚
â”‚    â€¢ Calls videoSearch.search(items)                        â”‚
â”‚    â€¢ API fetches videos (~2-4 seconds)                      â”‚
â”‚    â€¢ Scores results (<50ms)                                 â”‚
â”‚    â€¢ Updates results state                                  â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚
         â”‚                         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ WelcomeScreen     â”‚    â”‚ VideoResultsScreenâ”‚
    â”‚ â€¢ onStart â†’ nav   â”‚    â”‚ â€¢ Results props   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â€¢ ErrorState      â”‚
                             â”‚ â€¢ LoadingState    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â€¢ Video cards     â”‚
    â”‚ ItemInput          â”‚   â”‚ â€¢ Navigation      â”‚
    â”‚ â€¢ onSubmit â†’ set   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚   items            â”‚
    â”‚ â€¢ onBack â†’ nav     â”‚   VideoCard (x15)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â€¢ Shows: title
                             â€¢ Shows: thumbnail
                             â€¢ Shows: matched items
                             â€¢ Shows: suggested items
                             â€¢ Shows: match %
                             â€¢ Link to YouTube
```

---

## Fuzzy Matching Algorithm Diagram

```
Input Item: "glue"
         â”‚
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ getMaterialVariants("glue")         â”‚
    â”‚                                    â”‚
    â”‚ Base: ["glue"]                     â”‚
    â”‚ + Aliases from materialAliases:    â”‚
    â”‚   [adhesive, paste, cement,        â”‚
    â”‚    hot glue, craft glue,           â”‚
    â”‚    super glue]                     â”‚
    â”‚                                    â”‚
    â”‚ Result: ["glue", "adhesive",       â”‚
    â”‚          "paste", "cement", ...]   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    Video Keywords: ["diy", "cardboard", "gift", "box",
                     "easy", "tutorial", "how to", ...]
                 â”‚
                 â”œâ”€â†’ Compare "glue" vs keywords
                 â”‚   No match (0.0)
                 â”‚
                 â”œâ”€â†’ Compare "adhesive" vs keywords
                 â”‚   No match (0.0)
                 â”‚
                 â”œâ”€â†’ Compare "paste" vs keywords
                 â”‚   No match (0.0)
                 â”‚
                 â””â”€â†’ All variants checked
                     Best score: 0.0
                     â†’ Not matched in this video
                 â”‚
                 â†“
    Result: 
    â€¢ matchedItems: [] (no "glue" found)
    â€¢ suggestedItems: ["glue"] (needed)
    â€¢ Affects match percentage
```

---

## Scoring Example

```
User Items: ["cardboard", "glue", "scissors"]
Video: "DIY Cardboard Box with Hot Glue and String"

Keywords: {title: ["diy", "cardboard", "box", "hot", "glue", "string"],
           desc: ["learn", "make", "adhesive", ...]}

Matching Process:

1. Check "cardboard"
   Variants: [cardboard, box, carton, packaging, corrugated]
   Found: "cardboard" in keywords (exact match)
   Score: 1.0 â†’ MATCHED âœ“

2. Check "glue"
   Variants: [glue, adhesive, paste, cement, hot glue, craft glue, super glue]
   Found: "hot glue" in keywords (contains match)
   Found: "glue" in keywords (exact match)
   Score: 1.0 â†’ MATCHED âœ“

3. Check "scissors"
   Variants: [scissors, shears, cutting tool, cutter]
   Not found in keywords
   Score: 0.0 â†’ NOT MATCHED âœ—

Results:
  matchedItems: ["cardboard", "glue"]
  suggestedItems: ["scissors"]
  matchScore: 2/3 = 0.667
  matchPercentage: 66%
  matchType: "partial" (between 50-99%)
  relevanceScore: 0.9 (high DIY content)
  
Final Score: 
  (0.667 + 0.9) / 2 = 0.78
  â†’ Ranked #1 (high quality match)
```

---

## Error Handling Flow

```
API Call
     â”‚
     â”œâ”€â†’ Success
     â”‚   â””â”€â†’ Return videos
     â”‚
     â”œâ”€â†’ Network Error
     â”‚   â””â”€â†’ Try fallback method
     â”‚       â”œâ”€â†’ Success â†’ Return videos
     â”‚       â””â”€â†’ Fail â†’ getError("Network failed")
     â”‚
     â”œâ”€â†’ No Results
     â”‚   â””â”€â†’ Return friendly message
     â”‚
     â””â”€â†’ Timeout
         â””â”€â†’ Return cached if available
             â””â”€â†’ Else error message

User-Facing:
"We couldn't find DIY videos for those items.
 Try adding common craft supplies like scissors,
 glue, paper, or tape!"
```

---

## Cache Strategy Diagram

```
User Search 1: ["cardboard", "glue"]
     â”‚
     â”œâ”€â†’ Not in cache
     â”œâ”€â†’ Fetch from YouTube API
     â”œâ”€â†’ Store in cache: {
     â”‚     key: "cardboard|glue",
     â”‚     videos: [...],
     â”‚     timestamp: now
     â”‚   }
     â””â”€â†’ Return results

User Search 2: ["cardboard", "glue"] (same, within 5 min)
     â”‚
     â”œâ”€â†’ Found in cache
     â”œâ”€â†’ Check: now - timestamp < 5 min?
     â”‚         YES âœ“
     â””â”€â†’ Return cached videos (instant)

User Search 3: ["cardboard", "glue"] (same, after 5 min)
     â”‚
     â”œâ”€â†’ Found in cache
     â”œâ”€â†’ Check: now - timestamp < 5 min?
     â”‚         NO âœ—
     â”œâ”€â†’ Cache expired
     â”œâ”€â†’ Fetch fresh from API
     â”œâ”€â†’ Update cache
     â””â”€â†’ Return results
```

---

## Component Hierarchy

```
App.tsx
â””â”€â”€ Index.tsx
    â”œâ”€â”€ WelcomeScreen
    â”‚   â””â”€â”€ Button: "Start Creating"
    â”‚
    â”œâ”€â”€ ItemInput
    â”‚   â”œâ”€â”€ Button: "Back"
    â”‚   â”œâ”€â”€ Textarea: User input
    â”‚   â”œâ”€â”€ Examples
    â”‚   â””â”€â”€ Button: "Find Projects"
    â”‚
    â””â”€â”€ VideoResultsScreen
        â”œâ”€â”€ Button: "Back" / "Edit items"
        â”œâ”€â”€ Header
        â”‚   â”œâ”€â”€ Title
        â”‚   â”œâ”€â”€ User items (badges)
        â”‚   â””â”€â”€ Results message
        â”œâ”€â”€ Loading State
        â”œâ”€â”€ Error State
        â”œâ”€â”€ No Results State
        â”œâ”€â”€ Results Grid
        â”‚   â””â”€â”€ VideoCard (x15)
        â”‚       â”œâ”€â”€ Image + Play overlay
        â”‚       â”œâ”€â”€ Title
        â”‚       â”œâ”€â”€ Description
        â”‚       â”œâ”€â”€ Match badge
        â”‚       â”œâ”€â”€ Difficulty badge
        â”‚       â”œâ”€â”€ Duration badge
        â”‚       â”œâ”€â”€ Matched items
        â”‚       â”œâ”€â”€ Suggested items
        â”‚       â”œâ”€â”€ Source
        â”‚       â””â”€â”€ Watch button
        â””â”€â”€ Action buttons

UI Library: shadcn/ui
â”œâ”€â”€ Button
â”œâ”€â”€ Badge
â”œâ”€â”€ Card
â”œâ”€â”€ Input
â”œâ”€â”€ Textarea
â”œâ”€â”€ Dialog
â””â”€â”€ Toast
```

---

This architecture ensures:
- âœ… Scalability (easy to add new video sources)
- âœ… Maintainability (separated concerns)
- âœ… Performance (caching, efficient scoring)
- âœ… Reliability (error handling, fallbacks)
- âœ… User Experience (smooth transitions, clear feedback)
